(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,i=window.wp.plugins,n=window.wp.editPost,o=window.wp.apiFetch;var s=e.n(o);const r=window.wp.components;(0,i.registerPlugin)("wsuwp-content-visibility",{render:function(){const[e,i]=(0,t.useState)([]),[o,a]=(0,t.useState)([]),[c,d]=(0,t.useState)();return(0,t.useEffect)((()=>{const e=wp.data.select("core/editor").getCurrentPostId();s()({path:`/content-visibility-api/v1/groups?postId=${e}`}).then((e=>{i(e.group_options),a(e.selected_group_ids)})),wp.data.subscribe((()=>{d(wp.data.select("core/editor").getEditedPostAttribute("status"))}))}),[]),"private"===c?(0,t.createElement)(n.PluginPostStatusInfo,{className:"wsu-gutenberg-content-visibility__container"},(0,t.createElement)("h3",{className:"wsu-gutenberg-content-visibility__header"},"Manage Authorized Viewers"),(0,t.createElement)("div",{className:"wsu-gutenberg-content-visibility__options"},e&&e.map((e=>(0,t.createElement)("div",{className:"wsu-gutenberg-content-visibility__option"},(0,t.createElement)(r.CheckboxControl,{key:e.id,label:e.name,onChange:t=>function(e,t){let i=[];i=!0===t?[...o,e]:o.filter((t=>t!==e)),a(i),s()({path:"/content-visibility-api/v1/groups",method:"PUT",data:{post_id:wp.data.select("core/editor").getCurrentPostId(),selected_groups:i}})}(e.id,t),checked:o.includes(e.id)})))))):""}})})();